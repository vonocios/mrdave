/* ========================================
   Mr. Dave Idiomas — area-aluno.css
   WP: Registrar via wp_enqueue_style()
   ======================================== */

/* ---- Login Screen ---- */
.login-screen {
    min-height:100vh; display:flex; align-items:center; justify-content:center;
    background:var(--color-bg);
    background-image:radial-gradient(circle at 20% 30%,rgba(99,102,241,.15) 0%,transparent 50%),
                    radial-gradient(circle at 80% 70%,rgba(236,72,153,.12) 0%,transparent 50%);
}
.login-box {
    background:var(--color-bg-card); border:1px solid rgba(255,255,255,.12);
    border-radius:24px; padding:3rem; width:100%; max-width:440px; margin:1rem;
}
.login-title { font-family:'DM Serif Display',serif; font-size:2rem; margin-bottom:.5rem; }
.login-subtitle { color:var(--color-text-secondary); margin-bottom:2rem; }
.form-options { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; }
.checkbox-label { display:flex; align-items:center; gap:.5rem; color:var(--color-text-secondary); cursor:pointer; font-size:.9rem; }
.link-forgot { color:var(--color-primary-light); text-decoration:none; font-size:.9rem; }
.link-forgot:hover { color:var(--color-primary); }
.login-back { text-align:center; margin-top:1.5rem; }
.login-back a { color:var(--color-text-muted); text-decoration:none; font-size:.9rem; }
.login-back a:hover { color:var(--color-primary-light); }

/* ---- Dashboard wrapper ---- */
.area-aluno-body { overflow-x:hidden; }
.dashboard-wrapper { min-height:100vh; }

/* ---- Header Dashboard ---- */
.header-dashboard {
    background:rgba(15,23,42,.95) !important;
    border-bottom:1px solid rgba(255,255,255,.1);
}
.nav-user { display:flex; align-items:center; gap:1rem; flex-wrap:wrap; }
.user-greeting { color:var(--color-text-secondary); font-size:.95rem; }
.user-greeting strong { color:var(--color-text); }
.curso-badge-header {
    background:linear-gradient(135deg,var(--color-primary),var(--color-accent));
    color:white; padding:.3rem .9rem; border-radius:20px; font-size:.8rem; font-weight:700;
}
.btn-logout {
    background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15);
    color:var(--color-text-muted); padding:.5rem 1rem; border-radius:8px;
    cursor:pointer; font-size:.85rem; transition:all var(--transition-fast); font-family:inherit;
}
.btn-logout:hover { background:rgba(239,68,68,.15); border-color:rgba(239,68,68,.4); color:#ef4444; }

/* ---- Alerta Financeiro ---- */
.alerta-financeiro {
    background:rgba(239,68,68,.1); border-bottom:2px solid rgba(239,68,68,.4);
    padding:.85rem 2rem; display:flex; align-items:center; gap:1rem;
    color:#fca5a5; font-size:.9rem; flex-wrap:wrap;
}
.alerta-financeiro svg { flex-shrink:0; stroke:#ef4444; }
.alerta-financeiro span { flex:1; }
.alerta-btn {
    background:#ef4444; color:white; padding:.4rem 1.1rem;
    border-radius:8px; text-decoration:none; font-weight:600; font-size:.85rem;
    transition:background var(--transition-fast); white-space:nowrap;
}
.alerta-btn:hover { background:#dc2626; }

/* ---- Dashboard Layout ---- */
.dashboard-layout {
    display:grid; grid-template-columns:260px 1fr;
    min-height:calc(100vh - 70px); padding-top:70px;
}

/* ---- Sidebar ---- */
.sidebar {
    background:var(--color-bg-secondary); border-right:1px solid rgba(255,255,255,.1);
    padding:1.5rem 0; position:sticky; top:70px; height:calc(100vh - 70px);
    overflow-y:auto; overflow-x:hidden;
}
.sidebar-header { padding:0 1.25rem 1.25rem; border-bottom:1px solid rgba(255,255,255,.08); margin-bottom:1rem; }
.sidebar-curso-badge {
    display:inline-block; background:linear-gradient(135deg,var(--color-primary),var(--color-accent));
    color:white; padding:.4rem 1rem; border-radius:20px; font-size:.8rem; font-weight:700;
}

/* Grupo colapsável */
.sidebar-group { margin-bottom:.25rem; }
.sidebar-group-btn {
    width:100%; display:flex; align-items:center; gap:.75rem;
    padding:.75rem 1.25rem; background:transparent; border:none;
    color:var(--color-text-secondary); font-family:inherit; font-size:.95rem;
    font-weight:600; cursor:pointer; transition:all var(--transition-fast);
    text-align:left;
}
.sidebar-group-btn:hover { color:var(--color-text); background:rgba(255,255,255,.05); }
.sidebar-group-btn.active { color:var(--color-primary-light); }
.sidebar-group-btn svg:first-child { flex-shrink:0; }
.sidebar-group-btn .chevron { margin-left:auto; transition:transform var(--transition-fast); flex-shrink:0; }
.sidebar-group-btn.open .chevron { transform:rotate(180deg); }

.sidebar-submenu { overflow:hidden; max-height:0; transition:max-height .3s ease; }
.sidebar-submenu.open { max-height:300px; }

/* Links da sidebar */
.sidebar-link {
    display:flex; align-items:center; gap:.75rem;
    padding:.65rem 1.25rem .65rem 2.5rem;
    color:var(--color-text-muted); text-decoration:none;
    font-size:.9rem; transition:all var(--transition-fast);
    border-left:3px solid transparent; position:relative;
}
.sidebar-link:hover { color:var(--color-text); background:rgba(255,255,255,.04); }
.sidebar-link.active {
    color:var(--color-primary-light); background:rgba(99,102,241,.1);
    border-left-color:var(--color-primary);
}
.sidebar-link-root {
    padding-left:1.25rem; font-size:.95rem; font-weight:500;
    color:var(--color-text-secondary); margin-top:.25rem;
}
.sidebar-link-root:hover { color:var(--color-text); }
.sidebar-link-root.active { color:var(--color-primary-light); border-left-color:var(--color-primary); }

.badge-alerta {
    background:#ef4444; color:white; font-size:.7rem; font-weight:700;
    width:18px; height:18px; border-radius:50%; display:flex;
    align-items:center; justify-content:center; margin-left:auto;
}

/* ---- Main Content ---- */
.main-content { padding:2rem; overflow-y:auto; }
.content-section { display:none; animation:fadeIn .3s ease; }
.content-section.active { display:block; }
.content-header { margin-bottom:2rem; }
.content-header h1 { font-family:'DM Serif Display',serif; font-size:2rem; font-weight:400; margin-bottom:.4rem; }
.content-subtitle { color:var(--color-text-muted); }

/* ---- Aulas List ---- */
.aulas-list { display:flex; flex-direction:column; gap:.75rem; }
.aula-item {
    background:var(--color-bg-card); border:1px solid rgba(255,255,255,.1);
    border-radius:14px; padding:1.25rem 1.5rem;
    display:flex; align-items:center; gap:1rem;
    transition:all var(--transition-base); cursor:pointer;
}
.aula-item:hover { border-color:rgba(99,102,241,.4); transform:translateX(4px); }
.aula-check {
    width:22px; height:22px; border-radius:6px; border:2px solid rgba(255,255,255,.2);
    display:flex; align-items:center; justify-content:center; flex-shrink:0;
    transition:all var(--transition-fast); cursor:pointer;
}
.aula-check.checked { background:var(--color-success); border-color:var(--color-success); }
.aula-check.checked::after { content:'✓'; color:white; font-size:.75rem; font-weight:700; }
.aula-num { font-size:.85rem; color:var(--color-text-muted); font-weight:600; min-width:50px; }
.aula-info { flex:1; }
.aula-info h4 { font-size:1rem; margin-bottom:.2rem; }
.aula-info span { font-size:.8rem; color:var(--color-text-muted); }
.aula-duracao { font-size:.8rem; color:var(--color-text-muted); min-width:50px; text-align:right; }
.btn-assistir {
    background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark));
    color:white; border:none; border-radius:8px; padding:.5rem 1rem;
    font-size:.85rem; font-weight:600; cursor:pointer; white-space:nowrap;
    transition:all var(--transition-fast); font-family:inherit;
}
.btn-assistir:hover { box-shadow:0 4px 15px rgba(99,102,241,.4); }

/* ---- Video Page ---- */
.videopage-header { display:flex; align-items:center; gap:1.5rem; flex-wrap:wrap; }
.btn-back {
    display:flex; align-items:center; gap:.5rem;
    background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12);
    color:var(--color-text-secondary); padding:.55rem 1rem; border-radius:8px;
    cursor:pointer; font-size:.9rem; font-family:inherit; white-space:nowrap;
    transition:all var(--transition-fast);
}
.btn-back:hover { background:rgba(255,255,255,.12); color:var(--color-text); }
.video-player-placeholder {
    background:var(--color-bg-card); border:1px solid rgba(255,255,255,.1);
    border-radius:16px; aspect-ratio:16/9; display:flex; align-items:center;
    justify-content:center; margin-bottom:1.5rem; overflow:hidden;
}
.video-player-placeholder iframe { width:100%; height:100%; border:none; }
.video-placeholder-inner { text-align:center; }
.video-placeholder-inner p { color:var(--color-text-muted); margin-top:1rem; }
.video-placeholder-inner span { font-size:.85rem; color:rgba(255,255,255,.2); }

/* ---- Material Box (TTS) ---- */
.material-aula-box {
    background:var(--color-bg-card); border:1px solid rgba(255,255,255,.1);
    border-radius:16px; overflow:hidden;
}
.material-header {
    display:flex; align-items:center; justify-content:space-between;
    padding:1.25rem 1.5rem; border-bottom:1px solid rgba(255,255,255,.08);
    flex-wrap:wrap; gap:1rem;
}
.material-header h3 { display:flex; align-items:center; gap:.6rem; font-size:1rem; }
.tts-controls { display:flex; align-items:center; gap:.6rem; flex-wrap:wrap; }
.tts-label { font-size:.8rem; color:var(--color-text-muted); }
.tts-select {
    background:rgba(255,255,255,.07); border:1px solid rgba(255,255,255,.15);
    color:var(--color-text); border-radius:8px; padding:.4rem .7rem;
    font-size:.82rem; font-family:inherit; cursor:pointer;
}
.tts-select:focus { outline:none; border-color:var(--color-primary); }
.tts-select option { background:var(--color-bg-card); }
.btn-tts, .btn-tts-stop {
    display:flex; align-items:center; gap:.4rem;
    padding:.4rem .9rem; border-radius:8px; border:none;
    font-size:.82rem; font-weight:600; cursor:pointer; font-family:inherit;
    transition:all var(--transition-fast);
}
.btn-tts { background:linear-gradient(135deg,var(--color-primary),var(--color-primary-dark)); color:white; }
.btn-tts:hover { box-shadow:0 4px 12px rgba(99,102,241,.4); }
.btn-tts-stop { background:rgba(239,68,68,.15); color:#ef4444; border:1px solid rgba(239,68,68,.3); }
.btn-tts-stop:hover { background:rgba(239,68,68,.25); }
.material-readonly {
    padding:1.5rem; color:var(--color-text-secondary);
    line-height:1.8; font-size:.95rem; user-select:text;
}
.material-readonly p { margin-bottom:1rem; }
.material-readonly p:last-child { margin-bottom:0; }
.material-readonly strong { color:var(--color-text); }

/* ---- Placeholder sections ---- */
.placeholder-box {
    background:var(--color-bg-card); border:1px solid rgba(255,255,255,.08);
    border-radius:20px; padding:4rem 2rem; text-align:center;
}
.placeholder-icon { font-size:3.5rem; margin-bottom:1rem; }
.placeholder-box h3 { font-size:1.4rem; margin-bottom:.75rem; }
.placeholder-box p { color:var(--color-text-muted); max-width:400px; margin:0 auto; }

/* ---- Financeiro ---- */
.financeiro-status { margin-bottom:2rem; }
.financeiro-ok, .financeiro-debito {
    display:flex; align-items:center; gap:1rem;
    border-radius:14px; padding:1.5rem; margin-bottom:1rem;
}
.financeiro-ok { background:rgba(16,185,129,.1); border:1px solid rgba(16,185,129,.3); color:#6ee7b7; }
.financeiro-debito { background:rgba(239,68,68,.1); border:1px solid rgba(239,68,68,.3); color:#fca5a5; }
.financeiro-ok svg { stroke:#10b981; flex-shrink:0; }
.financeiro-debito svg { stroke:#ef4444; flex-shrink:0; }
.fin-text h3 { font-size:1rem; margin-bottom:.25rem; }
.fin-text p { font-size:.9rem; opacity:.8; }
.btn-pagar {
    background:#ef4444; color:white; border:none; border-radius:8px;
    padding:.6rem 1.2rem; font-weight:600; cursor:pointer; font-family:inherit;
    text-decoration:none; display:inline-block; margin-top:.75rem;
    transition:background var(--transition-fast);
}
.btn-pagar:hover { background:#dc2626; }

.financeiro-historico { background:var(--color-bg-card); border:1px solid rgba(255,255,255,.1); border-radius:16px; padding:1.5rem; }
.financeiro-historico h3 { margin-bottom:1.25rem; }
.historico-table-wrap { overflow-x:auto; }
.historico-table { width:100%; border-collapse:collapse; }
.historico-table th { text-align:left; padding:.75rem 1rem; color:var(--color-text-muted); font-size:.85rem; border-bottom:1px solid rgba(255,255,255,.08); }
.historico-table td { padding:.9rem 1rem; border-bottom:1px solid rgba(255,255,255,.05); font-size:.9rem; }
.historico-table tr:last-child td { border-bottom:none; }
.status-pago { color:#10b981; font-weight:600; font-size:.85rem; }
.status-pendente { color:#f59e0b; font-weight:600; font-size:.85rem; }
.status-atrasado { color:#ef4444; font-weight:600; font-size:.85rem; }

/* ---- Responsive ---- */
@media(max-width:768px){
    .dashboard-layout { grid-template-columns:1fr; }
    .sidebar {
        position:fixed; left:-280px; top:70px; height:calc(100vh - 70px);
        width:260px; z-index:500; transition:left var(--transition-base);
        box-shadow:4px 0 20px rgba(0,0,0,.3);
    }
    .sidebar.open { left:0; }
    .main-content { padding:1.25rem; }
    .material-header { flex-direction:column; align-items:flex-start; }
    .alerta-financeiro { padding:.75rem 1rem; }
    .sidebar-toggle {
        display:flex !important; position:fixed; bottom:90px; left:16px;
        width:44px; height:44px; background:var(--color-primary);
        border-radius:50%; border:none; cursor:pointer; z-index:499;
        align-items:center; justify-content:center; color:white;
        box-shadow:0 4px 15px rgba(99,102,241,.4);
    }
}
@media(min-width:769px){
    .sidebar-toggle { display:none; }
}
